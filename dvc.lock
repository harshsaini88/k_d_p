schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/cnnClassifier/pipeline/stage_01_data_ingetion.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: be7441f8ebec14b23f03199f7b9a2ced
      size: 578
    - path: src/cnnClassifier/pipeline/stage_01_data_ingetion.py
      hash: md5
      md5: fb7e829d7c5f9c4e65e373aae870bc0f
      size: 1012
    outs:
    - path: artifacts/data_ingestion/Kideny_data
      hash: md5
      md5: c8d663e6e29b63834799cef7b6dda01b.dir
      size: 275413828
      nfiles: 2000
  prepare_base_model:
    cmd: python src/cnnClassifier/pipeline/stage_02_prepare_base_model.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: be7441f8ebec14b23f03199f7b9a2ced
      size: 578
    - path: src/cnnClassifier/pipeline/stage_02_prepare_base_model.py
      hash: md5
      md5: e921cea9cbaebd85808284d2238a551e
      size: 1077
    params:
      params.yaml:
        CLASSES: 4
        IMAGE_SIZE:
        - 224
        - 224
        - 3
        INCLUDE_TOP: false
        LEARNING_RATE: 0.01
        WEIGHTS: imagenet
    outs:
    - path: artifacts/prepare_base_model
      hash: md5
      md5: 383f68cdb948e15381c5f3c998817b2e.dir
      size: 118255264
      nfiles: 2
  training:
    cmd: python src/cnnClassifier/pipeline/stage_03_model_training.py
    deps:
    - path: artifacts/data_ingestion/Kideny_data
      hash: md5
      md5: c8d663e6e29b63834799cef7b6dda01b.dir
      size: 275413828
      nfiles: 2000
    - path: artifacts/prepare_base_model
      hash: md5
      md5: bd93b4003cfa00a162b4f498ba312dea.dir
      size: 118255264
      nfiles: 2
    - path: config/config.yaml
      hash: md5
      md5: be7441f8ebec14b23f03199f7b9a2ced
      size: 578
    - path: src/cnnClassifier/pipeline/stage_03_model_training.py
      hash: md5
      md5: 59341360131cec6c21cba905067c0624
      size: 1005
    params:
      params.yaml:
        AUGMENTATION: true
        BATCH_SIZE: 16
        EPOCHS: 100
        IMAGE_SIZE:
        - 224
        - 224
        - 3
    outs:
    - path: artifacts/training/model.h5
      hash: md5
      md5: 1b033c3018b47c690c149a60b0e8c563
      size: 60142936
  evaluation:
    cmd: python src/cnnClassifier/pipeline/stage_04_model_evaluation.py
    deps:
    - path: artifacts/data_ingestion/Kideny_data
      hash: md5
      md5: c8d663e6e29b63834799cef7b6dda01b.dir
      size: 275413828
      nfiles: 2000
    - path: artifacts/training/model.h5
      hash: md5
      md5: 1b033c3018b47c690c149a60b0e8c563
      size: 60142936
    - path: config/config.yaml
      hash: md5
      md5: be7441f8ebec14b23f03199f7b9a2ced
      size: 578
    - path: src/cnnClassifier/pipeline/stage_04_model_evaluation.py
      hash: md5
      md5: be7c410e2ef31067a19dffa0165221fd
      size: 1007
    params:
      params.yaml:
        BATCH_SIZE: 16
        IMAGE_SIZE:
        - 224
        - 224
        - 3
    outs:
    - path: scores.json
      hash: md5
      md5: e96021fc0f8215342ac8dcf1663c710a
      size: 73
